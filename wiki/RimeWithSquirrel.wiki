#summary Build instructions for Squirrel.
#labels Phase-Deploy

== Build Squirrel from Scratch ==

You should already have installed Xcode; of course.

Install dependencies with [http://mxcl.github.com/homebrew/ Homebrew].
{{{
brew install boost
brew install glog
brew install opencc
brew install yaml-cpp

# NOTE: 
# formula kyoto-cabinet 1.2.76 fails to be built with clang.
# if we are running Xcode 4.4, we have to:
brew edit kyoto-cabinet
# and add configure option "--disable-atomic", to this line:
#   system "./configure", "--disable-debug", "--disable-atomic", "--prefix=#{prefix}"
# save the formula and go on:

brew install kyoto-cabinet
}}}

If you don't have `git` or `cmake`, "`brew install`" them.

Checkout these code into the same directory.
{{{
mkdir code
cd code
git clone git@github.com:lotem/librime.git
git clone git@github.com:lotem/brise.git
git clone git@github.com:lotem/squirrel.git
}}}

cmake version 2.8.4 doesn't work well with Xcode 4.4.
It complains about the missing MacOSX 10.8 SDK in the next step.

I applied this work-around to make it happy:
{{{
sudo ln -s /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk /Developer/SDKs/MacOSX10.8.sdk
}}}

Build Squirrel.
{{{
cd squirrel
make librime-release
make release
}}}

== Test it on your Mac ==

{{{
sudo make install-release
}}}

That's it. Thanks for reading.